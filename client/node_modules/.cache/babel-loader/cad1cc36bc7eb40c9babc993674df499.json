{"ast":null,"code":"// import NewsService from '../services/api-service';\nimport store from '../store';\nimport axios from 'axios';\nimport NewsService from '../services/api-service'; // const newsService = new NewsService();\n\nexport var addNews = function addNews() {\n  debugger; // dispatch(setItemsLoaded());debugger\n\n  console.log(axios, ' get');\n  axios.get('/api/items').then(function (res) {\n    return store.dispatch({\n      type: 'ADD_NEWS',\n      payload: res.data,\n      loaded: true\n    });\n  }); //  return{\n  //      type: 'ADD_NEWS',\n  //      payload: news,\n  //      loaded: true\n  //  };\n};\nexport var loadNews = function loadNews(item) {\n  debugger;\n  var newsService = new NewsService();\n  var news = newsService.getNews().then(function (articles) {\n    console.log;\n    var art = articles.map(function (item) {\n      axios.put(\"/api/items/\", item).then(function (res) {\n        return store.dispatch({\n          type: 'LOAD_NEWS',\n          payload: res.data\n        });\n      });\n    });\n  });\n};\nloadNews();\nexport var viewNews = function viewNews(id) {\n  return {\n    type: 'VIEW_NEWS',\n    payload: id\n  };\n}; // {\n//     axios\n//     .post('/api/items', id)\n//     .then(res=>\n//         store.dispatch({\n//            type: 'VIEW_NEWS',\n//            payload: res.data,\n//            id: id \n//         }))\n//     };\n\nexport var likeNews = function likeNews(id) {\n  axios.post(\"/api/items/\").then(function (res) {\n    return store.dispatch({\n      type: 'LIKE_NEWS',\n      payload: res.data,\n      id: id\n    });\n  });\n}; // ({type: 'LIKE_NEWS', payload: id});\n\nexport var searchNews = function searchNews(text) {\n  return {\n    type: 'SEARCH_NEWS',\n    payload: text\n  };\n};\nexport var setItemsLoaded = function setItemsLoaded() {\n  return {\n    type: 'ITEMS_LOADED'\n  };\n}; // export function fetchPosts() {\n//  addNews()\n//     return newsService.getNews().then(news => store.dispatch(addNews(news)));\n// };","map":{"version":3,"sources":["/home/dmitry/Рабочий стол/newsAPP 2.0/client/src/actions/actions.js"],"names":["store","axios","NewsService","addNews","console","log","get","then","res","dispatch","type","payload","data","loaded","loadNews","item","newsService","news","getNews","articles","art","map","put","viewNews","id","likeNews","post","searchNews","text","setItemsLoaded"],"mappings":"AAAA;AACA,OAAOA,KAAP,MAAkB,UAAlB;AACA,OAAOC,KAAP,MAAkB,OAAlB;AACA,OAAOC,WAAP,MAAwB,yBAAxB,C,CAGA;;AAEA,OAAO,IAAMC,OAAO,GAAG,SAAVA,OAAU,GAAM;AAAC,WAAD,CACzB;;AACAC,EAAAA,OAAO,CAACC,GAAR,CAAYJ,KAAZ,EAAkB,MAAlB;AACAA,EAAAA,KAAK,CACJK,GADD,CACK,YADL,EAECC,IAFD,CAEM,UAAAC,GAAG;AAAA,WACLR,KAAK,CAACS,QAAN,CAAe;AACZC,MAAAA,IAAI,EAAE,UADM;AAEZC,MAAAA,OAAO,EAAEH,GAAG,CAACI,IAFD;AAGZC,MAAAA,MAAM,EAAE;AAHI,KAAf,CADK;AAAA,GAFT,EAHyB,CAazB;AACA;AACA;AACA;AACA;AACF,CAlBK;AAoBN,OAAO,IAAMC,QAAQ,GAAG,SAAXA,QAAW,CAACC,IAAD,EAAU;AAAC;AAC/B,MAAMC,WAAW,GAAG,IAAId,WAAJ,EAApB;AACA,MAAMe,IAAI,GAAGD,WAAW,CAACE,OAAZ,GACTX,IADS,CACJ,UAAAY,QAAQ,EAAI;AACdf,IAAAA,OAAO,CAACC,GAAR;AACH,QAAMe,GAAG,GAAGD,QAAQ,CAACE,GAAT,CAAa,UAAAN,IAAI,EAAG;AAC7Bd,MAAAA,KAAK,CACJqB,GADD,gBACoBP,IADpB,EAECR,IAFD,CAEM,UAAAC,GAAG;AAAA,eACLR,KAAK,CAACS,QAAN,CAAe;AACZC,UAAAA,IAAI,EAAE,WADM;AAEZC,UAAAA,OAAO,EAAEH,GAAG,CAACI;AAFD,SAAf,CADK;AAAA,OAFT;AAOF,KARW,CAAZ;AASA,GAZS,CAAb;AAcA,CAhBG;AAkBRE,QAAQ;AACR,OAAO,IAAMS,QAAQ,GAAG,SAAXA,QAAW,CAACC,EAAD;AAAA,SAAS;AAACd,IAAAA,IAAI,EAAE,WAAP;AAAoBC,IAAAA,OAAO,EAAEa;AAA7B,GAAT;AAAA,CAAjB,C,CACP;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAIA,OAAO,IAAMC,QAAQ,GAAG,SAAXA,QAAW,CAACD,EAAD,EAAQ;AAC5BvB,EAAAA,KAAK,CACJyB,IADD,gBAECnB,IAFD,CAEM,UAAAC,GAAG;AAAA,WAELR,KAAK,CAACS,QAAN,CAAe;AACZC,MAAAA,IAAI,EAAE,WADM;AAEZC,MAAAA,OAAO,EAAEH,GAAG,CAACI,IAFD;AAGZY,MAAAA,EAAE,EAAEA;AAHQ,KAAf,CAFK;AAAA,GAFT;AASC,CAVE,C,CAYP;;AAEA,OAAO,IAAMG,UAAU,GAAG,SAAbA,UAAa,CAACC,IAAD;AAAA,SAAW;AAAClB,IAAAA,IAAI,EAAE,aAAP;AAAsBC,IAAAA,OAAO,EAAEiB;AAA/B,GAAX;AAAA,CAAnB;AAEP,OAAO,IAAMC,cAAc,GAAG,SAAjBA,cAAiB;AAAA,SAAO;AAACnB,IAAAA,IAAI,EAAE;AAAP,GAAP;AAAA,CAAvB,C,CAEP;AACA;AACA;AACA","sourcesContent":["// import NewsService from '../services/api-service';\nimport store from '../store'\nimport axios from 'axios';\nimport NewsService from '../services/api-service'\n\n\n// const newsService = new NewsService();\n\nexport const addNews = () => {debugger\n    // dispatch(setItemsLoaded());debugger\n    console.log(axios,' get')\n    axios\n    .get('/api/items')\n    .then(res=>\n        store.dispatch({\n           type: 'ADD_NEWS',\n           payload: res.data,\n           loaded: true \n        }))\n    \n\n    //  return{\n    //      type: 'ADD_NEWS',\n    //      payload: news,\n    //      loaded: true\n    //  };\n };\n\n export const loadNews = (item) => {debugger\n     const newsService = new NewsService();\n     const news = newsService.getNews() \n        .then(articles => {\n            console.log\n         const art = articles.map(item =>{\n            axios\n            .put(`/api/items/`, item)\n            .then(res=>\n                store.dispatch({\n                   type: 'LOAD_NEWS',\n                   payload: res.data,\n                }))\n         })\n        })\n    \n    };\n \nloadNews();\nexport const viewNews = (id) => ({type: 'VIEW_NEWS', payload: id});\n// {\n//     axios\n//     .post('/api/items', id)\n//     .then(res=>\n//         store.dispatch({\n//            type: 'VIEW_NEWS',\n//            payload: res.data,\n//            id: id \n//         }))\n//     };\n    \n    \n\nexport const likeNews = (id) => {\n    axios\n    .post(`/api/items/`)\n    .then(res=>\n\n        store.dispatch({\n           type: 'LIKE_NEWS',\n           payload: res.data,\n           id: id \n        }))\n    };\n\n// ({type: 'LIKE_NEWS', payload: id});\n\nexport const searchNews = (text) => ({type: 'SEARCH_NEWS', payload: text});\n\nexport const setItemsLoaded = () => ({type: 'ITEMS_LOADED'});\n\n// export function fetchPosts() {\n//  addNews()\n//     return newsService.getNews().then(news => store.dispatch(addNews(news)));\n// };\n"]},"metadata":{},"sourceType":"module"}