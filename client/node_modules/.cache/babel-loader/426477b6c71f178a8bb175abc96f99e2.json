{"ast":null,"code":"import _regeneratorRuntime from \"/home/dmitry/\\u0420\\u0430\\u0431\\u043E\\u0447\\u0438\\u0439 \\u0441\\u0442\\u043E\\u043B/NewsAppRedux/client/node_modules/@babel/runtime/regenerator\";\nimport _asyncToGenerator from \"/home/dmitry/\\u0420\\u0430\\u0431\\u043E\\u0447\\u0438\\u0439 \\u0441\\u0442\\u043E\\u043B/NewsAppRedux/client/node_modules/@babel/runtime/helpers/esm/asyncToGenerator\";\nimport _classCallCheck from \"/home/dmitry/\\u0420\\u0430\\u0431\\u043E\\u0447\\u0438\\u0439 \\u0441\\u0442\\u043E\\u043B/NewsAppRedux/client/node_modules/@babel/runtime/helpers/esm/classCallCheck\";\nimport _createClass from \"/home/dmitry/\\u0420\\u0430\\u0431\\u043E\\u0447\\u0438\\u0439 \\u0441\\u0442\\u043E\\u043B/NewsAppRedux/client/node_modules/@babel/runtime/helpers/esm/createClass\";\n\n// import Today from './date'\nvar NewsService =\n/*#__PURE__*/\nfunction () {\n  function NewsService() {\n    _classCallCheck(this, NewsService);\n  }\n\n  _createClass(NewsService, [{\n    key: \"getResource\",\n    value: function () {\n      var _getResource = _asyncToGenerator(\n      /*#__PURE__*/\n      _regeneratorRuntime.mark(function _callee() {\n        var url, res;\n        return _regeneratorRuntime.wrap(function _callee$(_context) {\n          while (1) {\n            switch (_context.prev = _context.next) {\n              case 0:\n                // const toDay = new Today()\n                url = \"https://newsapi.org/v2/top-headlines?country=us&category=business&apiKey=b62ca1edc4fb45c5b3c37c9696d253a6\"; // 'https://newsapi.org/v2/everything?' +\n                // 'sources=id:abc-news,id:bbc-news,id:bbc-sport,id:bloomberg,id:cnn.&'+\n                // // `from=${toDay.getCurrentDate()}&` +\n                // 'sortBy=publishedAt&' +\n                // 'language=en&'+\n                // 'pageSize=50&'+\n                // 'apiKey=e3e525850d9340b38a349ebc155902f0';\n\n                _context.next = 3;\n                return fetch(url);\n\n              case 3:\n                res = _context.sent;\n\n                if (res.ok) {\n                  _context.next = 6;\n                  break;\n                }\n\n                throw new Error(\"Could not fetch \".concat(url) + \", received \".concat(res.status));\n\n              case 6:\n                _context.next = 8;\n                return res.json();\n\n              case 8:\n                return _context.abrupt(\"return\", _context.sent);\n\n              case 9:\n              case \"end\":\n                return _context.stop();\n            }\n          }\n        }, _callee);\n      }));\n\n      function getResource() {\n        return _getResource.apply(this, arguments);\n      }\n\n      return getResource;\n    }()\n  }, {\n    key: \"getNews\",\n    value: function () {\n      var _getNews = _asyncToGenerator(\n      /*#__PURE__*/\n      _regeneratorRuntime.mark(function _callee2() {\n        var article;\n        return _regeneratorRuntime.wrap(function _callee2$(_context2) {\n          while (1) {\n            switch (_context2.prev = _context2.next) {\n              case 0:\n                _context2.next = 2;\n                return this.getResource().then(function (art) {\n                  return art.articles.map(function (element) {\n                    return {\n                      author: element.author,\n                      title: element.title,\n                      description: element.description,\n                      content: element.content,\n                      urlToImage: urlToImage\n                    };\n                  }); // return art.articles //array\n                });\n\n              case 2:\n                article = _context2.sent;\n                return _context2.abrupt(\"return\", article);\n\n              case 4:\n              case \"end\":\n                return _context2.stop();\n            }\n          }\n        }, _callee2, this);\n      }));\n\n      function getNews() {\n        return _getNews.apply(this, arguments);\n      }\n\n      return getNews;\n    }()\n  }]);\n\n  return NewsService;\n}();\n\nexport { NewsService as default };","map":{"version":3,"sources":["/home/dmitry/Рабочий стол/NewsAppRedux/client/src/services/api-service.js"],"names":["NewsService","url","fetch","res","ok","Error","status","json","getResource","then","art","articles","map","element","author","title","description","content","urlToImage","article"],"mappings":";;;;;AAAA;IAEqBA,W;;;;;;;;;;;;;;;;;;AAGb;AACMC,gBAAAA,G,GAAM,2G,EACA;AACA;AACA;AACA;AACA;AACA;AACA;;;uBACMC,KAAK,CAACD,GAAD,C;;;AAAjBE,gBAAAA,G;;oBAEDA,GAAG,CAACC,E;;;;;sBACD,IAAIC,KAAJ,CAAU,0BAAmBJ,GAAnB,yBACAE,GAAG,CAACG,MADJ,CAAV,C;;;;uBAGKH,GAAG,CAACI,IAAJ,E;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;uBAIS,KAAKC,WAAL,GACrBC,IADqB,CAChB,UAACC,GAAD,EAAO;AACT,yBAAOA,GAAG,CAACC,QAAJ,CAAaC,GAAb,CAAiB,UAAAC,OAAO,EAAI;AAC/B,2BAAO;AACHC,sBAAAA,MAAM,EAAED,OAAO,CAACC,MADb;AAEHC,sBAAAA,KAAK,EAAEF,OAAO,CAACE,KAFZ;AAGHC,sBAAAA,WAAW,EAAEH,OAAO,CAACG,WAHlB;AAIHC,sBAAAA,OAAO,EAAEJ,OAAO,CAACI,OAJd;AAKHC,sBAAAA,UAAU,EAAVA;AALG,qBAAP;AAOH,mBARM,CAAP,CADS,CAWT;AACC,iBAbiB,C;;;AAAhBC,gBAAAA,O;kDAcCA,O;;;;;;;;;;;;;;;;;;;;;SApCMnB,W","sourcesContent":["// import Today from './date'\r\n\r\nexport default class NewsService{\r\n   async getResource () {\r\n\r\n        // const toDay = new Today()\r\n        const url = \"https://newsapi.org/v2/top-headlines?country=us&category=business&apiKey=b62ca1edc4fb45c5b3c37c9696d253a6\"\r\n                    // 'https://newsapi.org/v2/everything?' +\r\n                    // 'sources=id:abc-news,id:bbc-news,id:bbc-sport,id:bloomberg,id:cnn.&'+\r\n                    // // `from=${toDay.getCurrentDate()}&` +\r\n                    // 'sortBy=publishedAt&' +\r\n                    // 'language=en&'+\r\n                    // 'pageSize=50&'+\r\n                    // 'apiKey=e3e525850d9340b38a349ebc155902f0';\r\n        const res = await fetch(url);\r\n    \r\n        if (!res.ok) {\r\n          throw new Error(`Could not fetch ${url}` +\r\n            `, received ${res.status}`)\r\n        }\r\n        return await res.json();\r\n    };\r\n   \r\n    async getNews(){\r\n        const article = await this.getResource()\r\n        .then((art)=>{\r\n            return art.articles.map(element => {\r\n                return {\r\n                    author: element.author,\r\n                    title: element.title,\r\n                    description: element.description,\r\n                    content: element.content,\r\n                    urlToImage\r\n                }\r\n            })\r\n\r\n            // return art.articles //array\r\n            });\r\n        return article;\r\n    }\r\n}"]},"metadata":{},"sourceType":"module"}