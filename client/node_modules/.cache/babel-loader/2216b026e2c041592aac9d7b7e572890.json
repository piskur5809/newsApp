{"ast":null,"code":"import _classCallCheck from \"/home/dmitry/\\u0420\\u0430\\u0431\\u043E\\u0447\\u0438\\u0439 \\u0441\\u0442\\u043E\\u043B/NewsAppRedux/client/node_modules/@babel/runtime/helpers/esm/classCallCheck\";\nimport _createClass from \"/home/dmitry/\\u0420\\u0430\\u0431\\u043E\\u0447\\u0438\\u0439 \\u0441\\u0442\\u043E\\u043B/NewsAppRedux/client/node_modules/@babel/runtime/helpers/esm/createClass\";\nimport _possibleConstructorReturn from \"/home/dmitry/\\u0420\\u0430\\u0431\\u043E\\u0447\\u0438\\u0439 \\u0441\\u0442\\u043E\\u043B/NewsAppRedux/client/node_modules/@babel/runtime/helpers/esm/possibleConstructorReturn\";\nimport _getPrototypeOf from \"/home/dmitry/\\u0420\\u0430\\u0431\\u043E\\u0447\\u0438\\u0439 \\u0441\\u0442\\u043E\\u043B/NewsAppRedux/client/node_modules/@babel/runtime/helpers/esm/getPrototypeOf\";\nimport _inherits from \"/home/dmitry/\\u0420\\u0430\\u0431\\u043E\\u0447\\u0438\\u0439 \\u0441\\u0442\\u043E\\u043B/NewsAppRedux/client/node_modules/@babel/runtime/helpers/esm/inherits\";\nvar _jsxFileName = \"/home/dmitry/\\u0420\\u0430\\u0431\\u043E\\u0447\\u0438\\u0439 \\u0441\\u0442\\u043E\\u043B/NewsAppRedux/client/src/components/app/app.js\";\nimport React, { Component } from 'react'; // import {Provider} from 'react-redux';\n\nimport store from '../../store';\nimport AppHeader from '../app-header';\nimport Body from '../app-body';\nimport Footer from '../app-footer'; // import NewsService from '../../services/api-service';\n\nvar App =\n/*#__PURE__*/\nfunction (_Component) {\n  _inherits(App, _Component);\n\n  function App() {\n    var _getPrototypeOf2;\n\n    var _this;\n\n    _classCallCheck(this, App);\n\n    for (var _len = arguments.length, args = new Array(_len), _key = 0; _key < _len; _key++) {\n      args[_key] = arguments[_key];\n    }\n\n    _this = _possibleConstructorReturn(this, (_getPrototypeOf2 = _getPrototypeOf(App)).call.apply(_getPrototypeOf2, [this].concat(args)));\n    _this.state = {\n      //    articles: [\n      //         {\n      //         author: \"Ann Schmidt\",\n      //         content: \"Approximately 56,578 pounds of stuffed sandwiches have been recalled because they are reportedly contaminated by semi-transparent plastic, according to the Food Safety and Inspection Service (FSIS). The recall was announced Friday, two days after the FSIS was… [+988 chars]\",\n      //         description: \"Approximately 56,578 pounds of stuffed sandwiches have been recalled because they are reportedly contaminated by semi-transparent plastic, according to the Food Safety and Inspection Service (FSIS).\",\n      //         id: 2,\n      //         likes: 0,\n      //         publishedAt: \"2019-04-09T00:39:51Z\",\n      //         show: false,\n      //         source: {id: \"fox-news\", name: \"Fox News\"},\n      //         title: \"Stuffed sandwiches recalled over possible plastic contamination, officials announce - Fox News\",\n      //         url: \"https://www.foxnews.com/health/stuffed-sandwiches-recalled-over-possible-plastic-contamination\",\n      //         urlToImage: \"https://static.foxnews.com/foxnews.com/content/uploads/2019/04/Bremmer-Pepperoni-Pizza.jpg\",\n      //         views: 0\n      //     }\n      // ],\n      showOne: false,\n      search: ''\n    };\n    return _this;\n  }\n\n  _createClass(App, [{\n    key: \"componentDidMount\",\n    value: function componentDidMount() {\n      // this.newsService.getNews()\n      //     .then((articles)=>{\n      store.dispatch({\n        type: 'ADD_NEWS'\n      }); //     this.setState(()=>{\n      //        const articles = store.getState()\n      //        return {articles}\n      //     })\n      // })\n      // let d = \n    } // componentDidMount(){\n    //     //приходит promise с массивом объектов\n    //     this.newsService.getNews()\n    //     .then((articles)=>{\n    //         // ответ от promise в виде массива обьектов\n    //         //перебираем массив и перезаписываем  state \n    //         this.setState(()=>{\n    //             let artId = 1;\n    //             articles.map((elem)=>{\n    //                 // добавляем к объекту новые свойства\n    //                 elem.id = artId;\n    //                 elem.views = 0;\n    //                 elem.likes = 0;\n    //                 elem.show = false;\n    //                 artId++;\n    //                 return elem;\n    //             });\n    //             return{articles};\n    //         });\n    //     }); \n    // };\n    // articleProperty =(arr, id, propName, showStatus)=>{\n    //     const oldItem = arr[id-1];\n    //     let value = \"\"\n    //     if(propName){\n    //         value = ++(oldItem[propName]);\n    //     }\n    //     const show = !oldItem[showStatus]\n    //     const item = {...arr[id-1], [propName]:value, [showStatus]:show};\n    //     return [\n    //         ...arr.slice(0, id-1),\n    //         item,\n    //         ...arr.slice(id)\n    //     ];\n    // };\n    // onShowArticle=(id)=>{\n    //     this.setState(({articles, showOne})=>{\n    //        const art= this.articleProperty(articles, id, \"views\", \"show\" );\n    //         showOne = true\n    //         return {articles:art, showOne};\n    //     });\n    // };\n    // onHideArticle = (id)=>{\n    //     this.setState(({articles, showOne})=>{\n    //       const art = this.articleProperty(articles, id, \"\", \"show\")\n    //         showOne = false\n    //         return {articles:art, showOne};\n    //     }); \n    // };\n    // onLikes=(id)=>{\n    //     this.setState(({articles})=>{\n    //         const art = this.articleProperty(articles, id, \"likes\");\n    //         return {articles:art};\n    //     }); \n    // };\n    // onSearch = (search)=>{\n    //     this.setState({search});\n    // };\n    // search(articles, search){\n    //     if(!articles){\n    //         return articles;\n    //     };\n    //     if(search.length === 0){\n    //         return articles;\n    //     };\n    //     const newArr = articles.filter((elem)=>{\n    //         if(elem.title || elem.description ){\n    //             if(typeof(elem.content) === \"string\"){\n    //               return  elem.content.toLowerCase().indexOf(search.toLowerCase()) > -1;\n    //             };\n    //           // не получается подсветка найденного текста\n    //         return  elem.title.toLowerCase().indexOf(search.toLowerCase()) > -1 || elem.description.toLowerCase().indexOf(search.toLowerCase()) > -1 \n    //         };\n    //         return false\n    //     });\n    //     return newArr\n    // };\n\n  }, {\n    key: \"render\",\n    value: function render() {\n      console.log(store);\n      console.log(this.state); // const{articles, search} = this.state;\n      // const visibleItems = this.search(articles, search);\n\n      return React.createElement(\"div\", {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 145\n        },\n        __self: this\n      }, React.createElement(AppHeader // onSearch ={this.onSearch}\n      , {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 146\n        },\n        __self: this\n      }), React.createElement(Body // showOne ={this.state.showOne}\n      // visibleItems = {visibleItems}\n      // onShowArticle={this.onShowArticle}\n      // onHideArticle={this.onHideArticle}\n      // onLikes={this.onLikes}\n      , {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 149\n        },\n        __self: this\n      }), React.createElement(Footer, {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 156\n        },\n        __self: this\n      }));\n    }\n  }]);\n\n  return App;\n}(Component);\n\nexport { App as default };","map":{"version":3,"sources":["/home/dmitry/Рабочий стол/NewsAppRedux/client/src/components/app/app.js"],"names":["React","Component","store","AppHeader","Body","Footer","App","state","showOne","search","dispatch","type","console","log"],"mappings":";;;;;;AAAA,OAAOA,KAAP,IAAeC,SAAf,QAA+B,OAA/B,C,CAEA;;AACA,OAAOC,KAAP,MAAkB,aAAlB;AAEA,OAAOC,SAAP,MAAsB,eAAtB;AACA,OAAOC,IAAP,MAAiB,aAAjB;AACA,OAAOC,MAAP,MAAmB,eAAnB,C,CAEA;;IAEqBC,G;;;;;;;;;;;;;;;;;UAIjBC,K,GAAO;AACH;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AAGAC,MAAAA,OAAO,EAAE,KAnBN;AAoBHC,MAAAA,MAAM,EAAC;AApBJ,K;;;;;;wCAuBY;AACf;AACA;AACQP,MAAAA,KAAK,CAACQ,QAAN,CAAe;AAACC,QAAAA,IAAI,EAAE;AAAP,OAAf,EAHO,CAIX;AACA;AACA;AACA;AACA;AAGJ;AAEH,K,CAGD;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AAEA;AACA;AACA;AACA;AACA;AACA;AAEA;AACA;AACA;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;;;6BAEQ;AACJC,MAAAA,OAAO,CAACC,GAAR,CAAYX,KAAZ;AACDU,MAAAA,OAAO,CAACC,GAAR,CAAY,KAAKN,KAAjB,EAFK,CAGJ;AACA;;AACA,aACI;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,SACI,oBAAC,SAAD,CACI;AADJ;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,QADJ,EAII,oBAAC,IAAD,CACI;AACA;AACA;AACA;AACA;AALJ;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,QAJJ,EAWI,oBAAC,MAAD;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,QAXJ,CADJ;AAeH;;;;EAnJ4BN,S;;SAAZK,G","sourcesContent":["import React, {Component} from 'react';\r\n\r\n// import {Provider} from 'react-redux';\r\nimport store from '../../store';\r\n\r\nimport AppHeader from '../app-header';\r\nimport Body from '../app-body';\r\nimport Footer from '../app-footer';\r\n\r\n// import NewsService from '../../services/api-service';\r\n\r\nexport default class App extends Component{\r\n   \r\n    // newsService = new NewsService();\r\n\r\n    state ={\r\n        //    articles: [\r\n        //         {\r\n        //         author: \"Ann Schmidt\",\r\n        //         content: \"Approximately 56,578 pounds of stuffed sandwiches have been recalled because they are reportedly contaminated by semi-transparent plastic, according to the Food Safety and Inspection Service (FSIS). The recall was announced Friday, two days after the FSIS was… [+988 chars]\",\r\n        //         description: \"Approximately 56,578 pounds of stuffed sandwiches have been recalled because they are reportedly contaminated by semi-transparent plastic, according to the Food Safety and Inspection Service (FSIS).\",\r\n        //         id: 2,\r\n        //         likes: 0,\r\n        //         publishedAt: \"2019-04-09T00:39:51Z\",\r\n        //         show: false,\r\n        //         source: {id: \"fox-news\", name: \"Fox News\"},\r\n        //         title: \"Stuffed sandwiches recalled over possible plastic contamination, officials announce - Fox News\",\r\n        //         url: \"https://www.foxnews.com/health/stuffed-sandwiches-recalled-over-possible-plastic-contamination\",\r\n        //         urlToImage: \"https://static.foxnews.com/foxnews.com/content/uploads/2019/04/Bremmer-Pepperoni-Pizza.jpg\",\r\n        //         views: 0\r\n        //     }\r\n        // ],\r\n\r\n        \r\n        showOne: false,\r\n        search:''\r\n    }\r\n\r\n    componentDidMount(){\r\n        // this.newsService.getNews()\r\n        //     .then((articles)=>{\r\n                store.dispatch({type: 'ADD_NEWS'});\r\n            //     this.setState(()=>{\r\n            //        const articles = store.getState()\r\n            //        return {articles}\r\n            //     })\r\n            // })\r\n\r\n        \r\n        // let d = \r\n        \r\n    }\r\n\r\n\r\n    // componentDidMount(){\r\n    //     //приходит promise с массивом объектов\r\n    //     this.newsService.getNews()\r\n    //     .then((articles)=>{\r\n    //         // ответ от promise в виде массива обьектов\r\n    //         //перебираем массив и перезаписываем  state \r\n    //         this.setState(()=>{\r\n    //             let artId = 1;\r\n    //             articles.map((elem)=>{\r\n    //                 // добавляем к объекту новые свойства\r\n    //                 elem.id = artId;\r\n    //                 elem.views = 0;\r\n    //                 elem.likes = 0;\r\n    //                 elem.show = false;\r\n    //                 artId++;\r\n    //                 return elem;\r\n    //             });\r\n    //             return{articles};\r\n    //         });\r\n    //     }); \r\n    // };\r\n\r\n    // articleProperty =(arr, id, propName, showStatus)=>{\r\n    //     const oldItem = arr[id-1];\r\n    //     let value = \"\"\r\n    //     if(propName){\r\n    //         value = ++(oldItem[propName]);\r\n    //     }\r\n    //     const show = !oldItem[showStatus]\r\n    //     const item = {...arr[id-1], [propName]:value, [showStatus]:show};\r\n    //     return [\r\n    //         ...arr.slice(0, id-1),\r\n    //         item,\r\n    //         ...arr.slice(id)\r\n    //     ];\r\n    // };\r\n\r\n    // onShowArticle=(id)=>{\r\n    //     this.setState(({articles, showOne})=>{\r\n    //        const art= this.articleProperty(articles, id, \"views\", \"show\" );\r\n    //         showOne = true\r\n    //         return {articles:art, showOne};\r\n    //     });\r\n    // };\r\n\r\n    // onHideArticle = (id)=>{\r\n    //     this.setState(({articles, showOne})=>{\r\n    //       const art = this.articleProperty(articles, id, \"\", \"show\")\r\n    //         showOne = false\r\n    //         return {articles:art, showOne};\r\n    //     }); \r\n    // };\r\n\r\n    // onLikes=(id)=>{\r\n    //     this.setState(({articles})=>{\r\n    //         const art = this.articleProperty(articles, id, \"likes\");\r\n    //         return {articles:art};\r\n    //     }); \r\n    // };\r\n\r\n    // onSearch = (search)=>{\r\n    //     this.setState({search});\r\n    // };\r\n\r\n    // search(articles, search){\r\n    //     if(!articles){\r\n    //         return articles;\r\n    //     };\r\n    //     if(search.length === 0){\r\n    //         return articles;\r\n    //     };\r\n    //     const newArr = articles.filter((elem)=>{\r\n    //         if(elem.title || elem.description ){\r\n    //             if(typeof(elem.content) === \"string\"){\r\n    //               return  elem.content.toLowerCase().indexOf(search.toLowerCase()) > -1;\r\n    //             };\r\n    //           // не получается подсветка найденного текста\r\n    //         return  elem.title.toLowerCase().indexOf(search.toLowerCase()) > -1 || elem.description.toLowerCase().indexOf(search.toLowerCase()) > -1 \r\n    //         };\r\n    //         return false\r\n    //     });\r\n    //     return newArr\r\n    // };\r\n\r\n    render(){\r\n        console.log(store)\r\n       console.log(this.state)\r\n        // const{articles, search} = this.state;\r\n        // const visibleItems = this.search(articles, search);\r\n        return(\r\n            <div>\r\n                <AppHeader\r\n                    // onSearch ={this.onSearch}\r\n                />\r\n                <Body\r\n                    // showOne ={this.state.showOne}\r\n                    // visibleItems = {visibleItems}\r\n                    // onShowArticle={this.onShowArticle}\r\n                    // onHideArticle={this.onHideArticle}\r\n                    // onLikes={this.onLikes}\r\n                />\r\n                <Footer/>\r\n            </div>\r\n        );\r\n    };\r\n}"]},"metadata":{},"sourceType":"module"}