{"ast":null,"code":"import axios from 'axios';\nexport var addNews = function addNews() {\n  return function (dispatch) {\n    axios.get('/api/articles').then(function (res) {\n      console.log(res.data, \"res.data\");\n      dispatch({\n        type: 'ADD_NEWS',\n        payload: res.data,\n        loaded: true\n      });\n    }).catch(function (err) {\n      return console.log(err);\n    });\n  };\n};\nexport var viewNews = function viewNews(id, elem) {\n  return function (dispatch) {\n    axios.post(\"/api/articles/\".concat(id), {\n      elem: elem,\n      views: true\n    }).then(function (res) {\n      dispatch({\n        type: 'VIEW_NEWS',\n        id: id,\n        views: res.data.views,\n        ip: res.data.userIpViews\n      });\n      console.log(res.data, \"res.data like\");\n    }).catch(function (err) {\n      return console.log(err);\n    });\n  };\n};\nexport var likeNews = function likeNews(id, elem) {\n  return function (dispatch) {\n    debugger;\n    axios.post(\"/api/articles/\".concat(id), {\n      elem: elem,\n      likes: true\n    }).then(function (res) {\n      console.log(res.data, \"res\");\n      return dispatch({\n        type: 'LIKE_NEWS',\n        id: id,\n        likes: res.data.likes,\n        ip: res.data.userIpLikes\n      });\n    });\n  };\n};\nexport var searchNews = function searchNews(text) {\n  return {\n    type: 'SEARCH_NEWS',\n    payload: text\n  };\n};\nexport var addVisitor = function addVisitor() {\n  return function (dispatch) {\n    axios.post('/api/visitors', {});\n  };\n};","map":{"version":3,"sources":["/home/dmitry/Рабочий стол/newsAPP 2.0/client/src/actions/actions.js"],"names":["axios","addNews","dispatch","get","then","res","console","log","data","type","payload","loaded","catch","err","viewNews","id","elem","post","views","ip","userIpViews","likeNews","likes","userIpLikes","searchNews","text","addVisitor"],"mappings":"AAAA,OAAOA,KAAP,MAAkB,OAAlB;AAEA,OAAO,IAAMC,OAAO,GAAG,SAAVA,OAAU;AAAA,SAAM,UAACC,QAAD,EAAa;AACtCF,IAAAA,KAAK,CACJG,GADD,CACK,eADL,EAECC,IAFD,CAEM,UAAAC,GAAG,EAAG;AACRC,MAAAA,OAAO,CAACC,GAAR,CAAYF,GAAG,CAACG,IAAhB,EAAqB,UAArB;AACFN,MAAAA,QAAQ,CAAC;AACPO,QAAAA,IAAI,EAAE,UADC;AAEPC,QAAAA,OAAO,EAAEL,GAAG,CAACG,IAFN;AAGPG,QAAAA,MAAM,EAAE;AAHD,OAAD,CAAR;AAKD,KATD,EAUCC,KAVD,CAUO,UAAAC,GAAG;AAAA,aACNP,OAAO,CAACC,GAAR,CAAYM,GAAZ,CADM;AAAA,KAVV;AAYF,GAbqB;AAAA,CAAhB;AAeP,OAAO,IAAMC,QAAQ,GAAG,SAAXA,QAAW,CAACC,EAAD,EAAKC,IAAL;AAAA,SAAc,UAACd,QAAD,EAAa;AAG/CF,IAAAA,KAAK,CACJiB,IADD,yBACuBF,EADvB,GAC6B;AAACC,MAAAA,IAAI,EAAJA,IAAD;AAAOE,MAAAA,KAAK,EAAE;AAAd,KAD7B,EAECd,IAFD,CAEM,UAAAC,GAAG,EAAE;AACPH,MAAAA,QAAQ,CAAC;AACLO,QAAAA,IAAI,EAAE,WADD;AAELM,QAAAA,EAAE,EAAEA,EAFC;AAGLG,QAAAA,KAAK,EAAEb,GAAG,CAACG,IAAJ,CAASU,KAHX;AAILC,QAAAA,EAAE,EAAEd,GAAG,CAACG,IAAJ,CAASY;AAJR,OAAD,CAAR;AAOAd,MAAAA,OAAO,CAACC,GAAR,CAAYF,GAAG,CAACG,IAAhB,EAAqB,eAArB;AACC,KAXL,EAYKI,KAZL,CAYW,UAAAC,GAAG;AAAA,aACNP,OAAO,CAACC,GAAR,CAAYM,GAAZ,CADM;AAAA,KAZd;AAcC,GAjBmB;AAAA,CAAjB;AAmBP,OAAO,IAAMQ,QAAQ,GAAG,SAAXA,QAAW,CAAEN,EAAF,EAAMC,IAAN;AAAA,SAAe,UAACd,QAAD,EAAa;AAChD;AACAF,IAAAA,KAAK,CACJiB,IADD,yBACuBF,EADvB,GAC6B;AAACC,MAAAA,IAAI,EAAJA,IAAD;AAAOM,MAAAA,KAAK,EAAE;AAAd,KAD7B,EAGClB,IAHD,CAGM,UAAAC,GAAG,EAAE;AACPC,MAAAA,OAAO,CAACC,GAAR,CAAYF,GAAG,CAACG,IAAhB,EAAqB,KAArB;AACF,aAAQN,QAAQ,CAAC;AACXO,QAAAA,IAAI,EAAE,WADK;AAEXM,QAAAA,EAAE,EAAEA,EAFO;AAGXO,QAAAA,KAAK,EAAEjB,GAAG,CAACG,IAAJ,CAASc,KAHL;AAIXH,QAAAA,EAAE,EAAEd,GAAG,CAACG,IAAJ,CAASe;AAJF,OAAD,CAAhB;AAMG,KAXL;AAYC,GAdmB;AAAA,CAAjB;AAiBP,OAAO,IAAMC,UAAU,GAAG,SAAbA,UAAa,CAACC,IAAD;AAAA,SAAW;AAAChB,IAAAA,IAAI,EAAE,aAAP;AAAsBC,IAAAA,OAAO,EAAEe;AAA/B,GAAX;AAAA,CAAnB;AAEP,OAAO,IAAMC,UAAU,GAAG,SAAbA,UAAa;AAAA,SAAM,UAAAxB,QAAQ,EAAI;AACxCF,IAAAA,KAAK,CAACiB,IAAN,CAAW,eAAX,EAA4B,EAA5B;AAGH,GAJyB;AAAA,CAAnB","sourcesContent":["import axios from 'axios';\n\nexport const addNews = () => (dispatch) =>{\n    axios\n    .get('/api/articles')\n    .then(res=> {\n        console.log(res.data,\"res.data\")\n      dispatch({\n        type: 'ADD_NEWS',\n        payload: res.data,\n        loaded: true \n        });\n    })\n    .catch(err =>\n        console.log(err))\n };\n \nexport const viewNews = (id, elem) => (dispatch) =>{\n    \n   \n    axios\n    .post(`/api/articles/${id}`, {elem, views: true})\n    .then(res=>{\n        dispatch({\n            type: 'VIEW_NEWS',\n            id: id,\n            views: res.data.views,\n            ip: res.data.userIpViews\n         })\n    \n        console.log(res.data,\"res.data like\")\n        })\n        .catch(err =>\n            console.log(err))\n    };\n\nexport const likeNews = ( id, elem) => (dispatch) =>{\n    debugger\n    axios\n    .post(`/api/articles/${id}`, {elem, likes: true})\n\n    .then(res=>{\n        console.log(res.data,\"res\")\n      return  dispatch({\n            type: 'LIKE_NEWS',\n            id: id, \n            likes: res.data.likes,\n            ip: res.data.userIpLikes\n         }) \n        })\n    };\n\n\nexport const searchNews = (text) => ({type: 'SEARCH_NEWS', payload: text});\n\nexport const addVisitor = () => dispatch => {\n    axios.post('/api/visitors', {\n        \n    } )\n}\n\n\n\n"]},"metadata":{},"sourceType":"module"}