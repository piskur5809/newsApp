{"ast":null,"code":"import UUID from 'uuid';\nimport store from '../store';\nimport axios from 'axios'; // import getItems from '../services/api-service'\n// const newsService = new NewsService();\n\nexport var addNews = function addNews() {\n  debugger; // axios\n  // .get('https://newsapi.org/v2/top-headlines?country=us&category=business&apiKey=b62ca1edc4fb45c5b3c37c9696d253a6')\n  // .then(res=> {\n  //    const newArr = res.data.articles.map(\n  //         element => {\n  //             return {\n  //                 id: UUID(),\n  //                 author: element.author,\n  //                 title: element.title,\n  //                 description: element.description,\n  //                 content: element.content,\n  //                 urlToImage: element.urlToImage,\n  //                 views: 0,\n  //                 likes: 0,\n  //                 usersIP: []\n  //             };\n  //         });\n\n  store.dispatch({\n    type: 'ADD_NEWS',\n    payload: [\"newArr\"],\n    loaded: true\n  }); //  loadNews(store.getState())\n  // });\n};\nexport var loadNews = function loadNews(items) {\n  debugger;\n  axios.post('/api/items', items).then(function (res) {\n    return console.log(res.data, \"res.data\");\n  });\n}; //           \n// loadNews();\n\nexport var viewNews = function viewNews(id) {\n  return {\n    type: 'VIEW_NEWS',\n    payload: id\n  };\n}; // {\n//     axios\n//     .post('/api/items', id)\n//     .then(res=>\n//         store.dispatch({\n//            type: 'VIEW_NEWS',\n//            payload: res.data,\n//            id: id \n//         }))\n//     };\n\nexport var likeNews = function likeNews(id) {\n  axios.post(\"/api/items/\").then(function (res) {\n    return store.dispatch({\n      type: 'LIKE_NEWS',\n      payload: res.data,\n      id: id\n    });\n  });\n}; // ({type: 'LIKE_NEWS', payload: id});\n\nexport var searchNews = function searchNews(text) {\n  return {\n    type: 'SEARCH_NEWS',\n    payload: text\n  };\n};\nexport var setItemsLoaded = function setItemsLoaded() {\n  return {\n    type: 'ITEMS_LOADED'\n  };\n}; // export function fetchPosts() {\n//  addNews()\n//     return newsService.getNews().then(news => store.dispatch(addNews(news)));\n// };","map":{"version":3,"sources":["/home/dmitry/Рабочий стол/newsAPP 2.0/client/src/actions/actions.js"],"names":["UUID","store","axios","addNews","dispatch","type","payload","loaded","loadNews","items","post","then","res","console","log","data","viewNews","id","likeNews","searchNews","text","setItemsLoaded"],"mappings":"AAAA,OAAOA,IAAP,MAAiB,MAAjB;AACA,OAAOC,KAAP,MAAkB,UAAlB;AACA,OAAOC,KAAP,MAAkB,OAAlB,C,CACA;AAGA;;AAEA,OAAO,IAAMC,OAAO,GAAG,SAAVA,OAAU,GAAM;AAAC,WAAD,CACzB;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AACIF,EAAAA,KAAK,CAACG,QAAN,CAAe;AACXC,IAAAA,IAAI,EAAE,UADK;AAEXC,IAAAA,OAAO,EAAE,CAAC,QAAD,CAFE;AAGXC,IAAAA,MAAM,EAAE;AAHG,GAAf,EAlBqB,CAuBrB;AACJ;AACF,CAzBK;AA2BN,OAAO,IAAMC,QAAQ,GAAG,SAAXA,QAAW,CAACC,KAAD,EAAW;AAAC;AAG7BP,EAAAA,KAAK,CAACQ,IAAN,CAAW,YAAX,EAAyBD,KAAzB,EACCE,IADD,CACM,UAAAC,GAAG;AAAA,WAAIC,OAAO,CAACC,GAAR,CAAYF,GAAG,CAACG,IAAhB,EAAsB,UAAtB,CAAJ;AAAA,GADT;AAIP,CAPO,C,CAQR;AAEA;;AACA,OAAO,IAAMC,QAAQ,GAAG,SAAXA,QAAW,CAACC,EAAD;AAAA,SAAS;AAACZ,IAAAA,IAAI,EAAE,WAAP;AAAoBC,IAAAA,OAAO,EAAEW;AAA7B,GAAT;AAAA,CAAjB,C,CACP;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAIA,OAAO,IAAMC,QAAQ,GAAG,SAAXA,QAAW,CAACD,EAAD,EAAQ;AAC5Bf,EAAAA,KAAK,CACJQ,IADD,gBAECC,IAFD,CAEM,UAAAC,GAAG;AAAA,WAELX,KAAK,CAACG,QAAN,CAAe;AACZC,MAAAA,IAAI,EAAE,WADM;AAEZC,MAAAA,OAAO,EAAEM,GAAG,CAACG,IAFD;AAGZE,MAAAA,EAAE,EAAEA;AAHQ,KAAf,CAFK;AAAA,GAFT;AASC,CAVE,C,CAYP;;AAEA,OAAO,IAAME,UAAU,GAAG,SAAbA,UAAa,CAACC,IAAD;AAAA,SAAW;AAACf,IAAAA,IAAI,EAAE,aAAP;AAAsBC,IAAAA,OAAO,EAAEc;AAA/B,GAAX;AAAA,CAAnB;AAEP,OAAO,IAAMC,cAAc,GAAG,SAAjBA,cAAiB;AAAA,SAAO;AAAChB,IAAAA,IAAI,EAAE;AAAP,GAAP;AAAA,CAAvB,C,CAEP;AACA;AACA;AACA","sourcesContent":["import UUID from 'uuid';\nimport store from '../store'\nimport axios from 'axios';\n// import getItems from '../services/api-service'\n\n\n// const newsService = new NewsService();\n\nexport const addNews = () => {debugger\n    // axios\n    // .get('https://newsapi.org/v2/top-headlines?country=us&category=business&apiKey=b62ca1edc4fb45c5b3c37c9696d253a6')\n    // .then(res=> {\n    //    const newArr = res.data.articles.map(\n    //         element => {\n    //             return {\n    //                 id: UUID(),\n    //                 author: element.author,\n    //                 title: element.title,\n    //                 description: element.description,\n    //                 content: element.content,\n    //                 urlToImage: element.urlToImage,\n    //                 views: 0,\n    //                 likes: 0,\n    //                 usersIP: []\n    //             };\n    //         });\n        store.dispatch({\n            type: 'ADD_NEWS',\n            payload: [\"newArr\"],\n            loaded: true \n         });\n        //  loadNews(store.getState())\n    // });\n };\n\n export const loadNews = (items) => {debugger\n\n         \n        axios.post('/api/items', items)\n        .then(res => console.log(res.data, \"res.data\"))\n     \n    \n}\n//           \n \n// loadNews();\nexport const viewNews = (id) => ({type: 'VIEW_NEWS', payload: id});\n// {\n//     axios\n//     .post('/api/items', id)\n//     .then(res=>\n//         store.dispatch({\n//            type: 'VIEW_NEWS',\n//            payload: res.data,\n//            id: id \n//         }))\n//     };\n    \n    \n\nexport const likeNews = (id) => {\n    axios\n    .post(`/api/items/`)\n    .then(res=>\n\n        store.dispatch({\n           type: 'LIKE_NEWS',\n           payload: res.data,\n           id: id \n        }))\n    };\n\n// ({type: 'LIKE_NEWS', payload: id});\n\nexport const searchNews = (text) => ({type: 'SEARCH_NEWS', payload: text});\n\nexport const setItemsLoaded = () => ({type: 'ITEMS_LOADED'});\n\n// export function fetchPosts() {\n//  addNews()\n//     return newsService.getNews().then(news => store.dispatch(addNews(news)));\n// };\n"]},"metadata":{},"sourceType":"module"}