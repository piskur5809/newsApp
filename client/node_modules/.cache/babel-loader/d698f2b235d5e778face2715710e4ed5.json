{"ast":null,"code":"var express = require('express');\n\nvar mongoose = require('mongoose');\n\nvar path = require('path');\n\nvar News = require('./requires/newsRequire');\n\nvar Visitors = require('./requires/visitorsRequire');\n\nvar app = express(); //Express Middleware\n\napp.use(express.json()); //DB config\n\nvar db = require('./config/keys').mongoURI; // Connect to Mongo\n\n\nmongoose.connect(db, {\n  useNewUrlParser: true,\n  useCreateIndex: true\n}).then(function () {\n  return console.log('MongoDB conected...');\n}).catch(function (err) {\n  return console.log(err);\n}); //Use Routes   \n\napp.use('/api/articles', require('./routes/api/items'));\napp.use('/api/visitors', require('./routes/api/visitors')); // Serve static assets if in production\n\nif (process.env.NODE_ENV === 'production') {\n  // Set static folder\n  app.use(express.static('client/build'));\n  app.get('*', function (req, res) {\n    res.sendFile(path.resolve(__dirname, 'client', 'build', 'index.html'));\n  });\n}\n\nvar port = process.env.PORT || 5000;\napp.listen(port, function () {\n  return console.log(\"Server started on port \".concat(port));\n}); // // Refresh news\n// News.deleteNews();\n// // News.addNews();\n// // Refresh visitors today \n// Visitors.deleteVisitors(); \n// Visitors.newVisitors();","map":null,"metadata":{},"sourceType":"script"}